# MailSlurper Standalone Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=mailslurper
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# SMTP port (for receiving emails from your app)
MAILSLURPER_SMTP_PORT=2500

# Web UI port
MAILSLURPER_WEB_PORT=8085

# API port
MAILSLURPER_API_PORT=8080

# ====================
# Docker Image
# ====================
# Custom-built MailSlurper image
MAILSLURPER_IMAGE=scriptonbasestar/mailslurper:latest

# ====================
# Container Names
# ====================
MAILSLURPER_CONTAINER_NAME=mailslurper

# ====================
# Network Names
# ====================
MAIL_NETWORK=mail-network

# ====================
# About MailSlurper
# ====================
# MailSlurper is a simple SMTP mail server for local development and testing.
# It captures all emails sent to it and displays them in a web interface,
# without actually sending them to real recipients.
#
# Perfect for:
# - Testing email functionality in development
# - Viewing email templates and content
# - Debugging email-related features
# - Integration testing

# ====================
# Quick Start
# ====================
# 1. Start MailSlurper:
#    make up
#
# 2. Configure your app to use MailSlurper:
#    SMTP_HOST=localhost
#    SMTP_PORT=2500
#    SMTP_TLS=false
#    SMTP_AUTH=false
#
# 3. Send emails from your app
#
# 4. View emails in web UI:
#    http://localhost:8085

# ====================
# Application Configuration Examples
# ====================
# Rails (config/environments/development.rb):
#   config.action_mailer.delivery_method = :smtp
#   config.action_mailer.smtp_settings = {
#     address: 'localhost',
#     port: 2500,
#     domain: 'localhost'
#   }
#
# Django (settings.py):
#   EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
#   EMAIL_HOST = 'localhost'
#   EMAIL_PORT = 2500
#   EMAIL_USE_TLS = False
#   EMAIL_USE_SSL = False
#
# Flask:
#   MAIL_SERVER = 'localhost'
#   MAIL_PORT = 2500
#   MAIL_USE_TLS = False
#   MAIL_USE_SSL = False
#
# Node.js (Nodemailer):
#   const transporter = nodemailer.createTransport({
#     host: 'localhost',
#     port: 2500,
#     secure: false,
#     tls: { rejectUnauthorized: false }
#   });
#
# PHP (php.ini):
#   SMTP = localhost
#   smtp_port = 2500
#
# Laravel (.env):
#   MAIL_MAILER=smtp
#   MAIL_HOST=localhost
#   MAIL_PORT=2500
#   MAIL_ENCRYPTION=null

# ====================
# Docker Compose Integration
# ====================
# To use MailSlurper with other services, add to your docker-compose.yml:
#
# services:
#   app:
#     image: your-app
#     environment:
#       SMTP_HOST: mailslurper
#       SMTP_PORT: 2500
#     depends_on:
#       - mailslurper
#     networks:
#       - app-network
#
#   mailslurper:
#     image: scriptonbasestar/mailslurper:latest
#     ports:
#       - "2500:2500"
#       - "8080:8080"
#       - "8085:8085"
#     networks:
#       - app-network

# ====================
# API Usage
# ====================
# List all emails:
#   curl http://localhost:8080/mail
#
# Get specific email:
#   curl http://localhost:8080/mail/{id}
#
# Delete specific email:
#   curl -X DELETE http://localhost:8080/mail/{id}
#
# Delete all emails:
#   curl -X DELETE http://localhost:8080/mail

# ====================
# Testing Commands
# ====================
# Test SMTP connection:
#   telnet localhost 2500
#   nc localhost 2500
#
# Send test email with curl (using API):
#   curl -X POST http://localhost:8080/mail \
#     -H "Content-Type: application/json" \
#     -d '{
#       "from": "test@example.com",
#       "to": ["recipient@example.com"],
#       "subject": "Test Email",
#       "body": "This is a test"
#     }'

# ====================
# Port Notes
# ====================
# ⚠️  Port Configuration:
# - Current Web UI port: 8085
# - Recommended Web UI port (per PORT_GUIDE.md): 8810
#
# To use recommended port, change:
#   MAILSLURPER_WEB_PORT=8810
#
# Then access Web UI at: http://localhost:8810

# ====================
# Security Notes
# ====================
# ⚠️  IMPORTANT Security Recommendations:
#
# 1. Development Only:
#    - MailSlurper is for development/testing ONLY
#    - NEVER use in production environments
#    - No authentication or security features
#
# 2. Network Access:
#    - Only expose on localhost in development
#    - Use firewall to block external access
#    - In Docker networks, use service name (mailslurper) not localhost
#
# 3. Email Privacy:
#    - Do NOT use real customer email addresses
#    - Do NOT test with sensitive information
#    - Captured emails are stored unencrypted
#
# 4. Data Cleanup:
#    - Regularly delete old test emails
#    - Use API to clear emails: curl -X DELETE http://localhost:8080/mail
#    - Consider periodic restarts: make restart
#
# 5. Docker Networking:
#    - When using with other containers, use Docker networks
#    - Set SMTP_HOST to 'mailslurper' (service name)
#    - Never bind to 0.0.0.0 on production servers

# ====================
# Common Use Cases
# ====================
# 1. Development Environment:
#    - Test user registration emails
#    - Test password reset flows
#    - Test notification emails
#    - Debug email templates
#
# 2. Integration Testing:
#    - Verify email content in tests
#    - Check email delivery timing
#    - Test email with attachments
#    - Validate email formatting
#
# 3. Demo/Staging:
#    - Demonstrate email features without sending real emails
#    - Preview email templates for stakeholders
#    - Test email workflows in staging

# ====================
# Troubleshooting
# ====================
# Container not starting:
#   - Check if ports are already in use: netstat -tuln | grep -E '2500|8080|8085'
#   - Check logs: make logs
#   - Restart: make restart
#
# Cannot connect to SMTP:
#   - Verify container is running: make ps
#   - Check SMTP port: docker compose ps
#   - Test connection: telnet localhost 2500
#
# Emails not appearing in UI:
#   - Check logs: make logs
#   - Verify SMTP configuration in your app
#   - Try sending via telnet/nc to test
#   - Check Web UI is accessible: http://localhost:8085
#
# API not working:
#   - Test API: make api
#   - Check API port: curl http://localhost:8080/mail
#   - Review container logs for errors

# ====================
# Alternative Tools
# ====================
# If MailSlurper doesn't meet your needs, consider:
#
# - MailHog: https://github.com/mailhog/MailHog
#   Similar features, Go-based, popular choice
#
# - MailCatcher: https://mailcatcher.me/
#   Ruby-based, simple web UI
#
# - Mailtrap: https://mailtrap.io/
#   Cloud-based, more features, paid service
#
# - FakeSMTP: https://github.com/Nilhcem/FakeSMTP
#   Java-based, desktop GUI

# ====================
# References
# ====================
# - MailSlurper: https://github.com/mailslurper/mailslurper
# - Configuration: https://github.com/mailslurper/mailslurper/wiki/Configuration-File
# - Docker Image: https://hub.docker.com/r/scriptonbasestar/mailslurper
# - Port guide: ../../PORT_GUIDE.md
