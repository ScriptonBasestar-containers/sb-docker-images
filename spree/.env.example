# Spree Commerce Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=spree
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# Spree web port
SPREE_PORT=8400

# ====================
# Rails Configuration
# ====================
# Rails environment (development, test, production)
RAILS_ENV=development

# Secret key base for Rails (change in production!)
SECRET_KEY_BASE=change-this-to-a-random-secret-key-min-128-chars

# ====================
# Database Configuration (PostgreSQL)
# ====================
# Database URL
DATABASE_URL=postgresql://postgres:password@postgres/spree_development

# PostgreSQL settings
POSTGRES_DB=spree_development
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me-strong-password

# PostgreSQL host
POSTGRES_HOST=postgres

# PostgreSQL port
POSTGRES_PORT=5432

# ====================
# Redis Configuration
# ====================
# Redis connection URL
REDIS_URL=redis://redis:6379/0

# Redis host
REDIS_HOST=redis

# Redis port
REDIS_PORT=6379

# ====================
# Spree Configuration
# ====================
# Store name
# SPREE_STORE_NAME=My Store

# Store URL
# SPREE_STORE_URL=http://localhost:8400

# Default currency
# SPREE_DEFAULT_CURRENCY=USD

# Default locale
# SPREE_DEFAULT_LOCALE=en

# ====================
# Email Configuration (Optional)
# ====================
# SMTP server
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_DOMAIN=gmail.com
# SMTP_AUTHENTICATION=plain
# SMTP_ENABLE_STARTTLS_AUTO=true

# From email address
# SPREE_FROM_EMAIL=noreply@example.com

# ====================
# Payment Gateway (Optional)
# ====================
# Stripe
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...

# PayPal
# PAYPAL_CLIENT_ID=your-client-id
# PAYPAL_CLIENT_SECRET=your-client-secret

# ====================
# Image Storage (Optional)
# ====================
# AWS S3 for product images
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=my-spree-assets

# ====================
# Search Configuration (Optional)
# ====================
# Elasticsearch
# ELASTICSEARCH_URL=http://elasticsearch:9200

# ====================
# Sidekiq Configuration (Optional)
# ====================
# Background job processing
# SIDEKIQ_CONCURRENCY=5

# ====================
# Security Configuration (Production)
# ====================
# Force SSL
# FORCE_SSL=true

# Session store
# SESSION_STORE=redis

# ====================
# Container Names
# ====================
WEB_CONTAINER_NAME=spree-web
POSTGRES_CONTAINER_NAME=spree-postgres
REDIS_CONTAINER_NAME=spree-redis

# ====================
# Volume Names
# ====================
POSTGRES_DATA_VOLUME=postgres-data
REDIS_DATA_VOLUME=redis-data
SPREE_UPLOADS_VOLUME=spree-uploads

# ====================
# Network Names
# ====================
# NETWORK_NAME=spree-network

# ====================
# Security Note
# ====================
# ⚠️ IMPORTANT: Change all secrets before using in production!
# - SECRET_KEY_BASE: Rails secret key (minimum 128 characters)
# - POSTGRES_PASSWORD: Database password
# - Payment gateway credentials
# - RAILS_ENV: Set to production
#
# Security recommendations:
# - Use strong, random secret key
# - Set RAILS_ENV=production for live stores
# - Enable FORCE_SSL in production
# - Secure payment gateway credentials
# - Use AWS S3 or CDN for assets
# - Enable rate limiting
# - Configure proper CORS settings
# - Regular security updates
# - PCI compliance for payment processing
#
# Generate random secret key:
# rails secret
# # or
# rake secret
#
# Initial setup:
# 1. Install Spree CLI:
#    gem install spree_cmd
#
# 2. Create new Spree project:
#    spree new mystore
#    cd mystore
#
# 3. Copy this file to .env and update values
#
# 4. Create docker-compose.yml in project directory
#
# 5. Start services: docker compose up -d
#
# 6. Setup database:
#    docker compose exec web rails db:create
#    docker compose exec web rails db:migrate
#    docker compose exec web rails spree:install
#    docker compose exec web rails spree:sample
#
# 7. Create admin user:
#    docker compose exec web rails spree:auth:create_admin_user
#
# 8. Access store: http://localhost:8400
#
# Admin panel:
# URL: http://localhost:8400/admin
# Default credentials: (set during spree:auth:create_admin_user)
#
# Spree features:
# - Product catalog management
# - Order processing
# - Inventory tracking
# - Customer management
# - Multiple payment gateways
# - Shipping calculators
# - Tax calculations
# - Promotions and discounts
# - Multi-store support
# - Multi-currency support
# - RESTful API
# - Extensions system
#
# Useful commands:
# - Rails console: docker compose exec web rails console
# - Database migrations: docker compose exec web rails db:migrate
# - Install sample data: docker compose exec web rails spree:sample
# - Precompile assets: docker compose exec web rails assets:precompile
# - Run tests: docker compose exec web rspec
#
# Popular Spree extensions:
# - spree_i18n: Internationalization
# - spree_auth_devise: User authentication
# - spree_gateway: Payment gateways
# - spree_multi_currency: Multi-currency
# - spree_social: Social login
# - spree_digital: Digital products
# - spree_gift_card: Gift cards
#
# Add extension:
# 1. Add to Gemfile:
#    gem 'spree_social', github: 'spree-contrib/spree_social'
#
# 2. Install:
#    docker compose exec web bundle install
#    docker compose exec web rails g spree_social:install
#
# Production checklist:
# - RAILS_ENV=production
# - Strong SECRET_KEY_BASE
# - Database password set
# - HTTPS enabled (FORCE_SSL=true)
# - Payment gateways configured
# - Email delivery configured
# - Asset pipeline configured
# - Backup strategy
# - Monitoring setup
#
# References:
# - Spree documentation: https://guides.spreecommerce.org/
# - Spree GitHub: https://github.com/spree/spree
# - Extensions: https://github.com/spree-contrib
# - Port guide: ../docs/PORT_GUIDE.md
