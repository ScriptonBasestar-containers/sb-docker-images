# Solidus Standalone Environment Variables
# Copy this file to .env and update the values
#
# Solidus is an open-source eCommerce platform built with Ruby on Rails
# See: https://solidus.io/

# ============================================================================
# Web Server Settings
# ============================================================================
SOLIDUS_WEB_PORT=8410
# Default: 8410 (recommended port for Solidus)
# Change this if you need to avoid port conflicts

# ============================================================================
# Rails Configuration
# ============================================================================
RAILS_ENV=production
# Options: production, development, test
# NEVER use development in production!

RAILS_LOG_TO_STDOUT=true
# Enable logging to stdout for Docker

SECRET_KEY_BASE=changeme-generate-with-rails-secret
# REQUIRED: Generate with:
# docker run --rm solidusio/solidus:latest bundle exec rails secret
# Or in Ruby: ruby -rsecurerandom -e 'puts SecureRandom.hex(64)'

# ============================================================================
# Host Configuration
# ============================================================================
HOST=localhost:8410
# The host where Solidus will be accessible
# For production: use your actual domain (e.g., shop.example.com)

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
# WARNING: Change this password in production!
# Use a strong, unique password (16+ characters)

POSTGRES_DB=solidus_production

DATABASE_URL=postgresql://postgres:password@postgres:5432/solidus_production
# Database connection string (auto-constructed from above)

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://redis:6379/0
# Redis connection URL for cache and sessions

# ============================================================================
# Email Configuration (SMTP) - Optional
# ============================================================================
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_DOMAIN=example.com
# SMTP_AUTHENTICATION=plain
# SMTP_ENABLE_STARTTLS_AUTO=true

# ============================================================================
# Payment Gateway Configuration - Optional
# ============================================================================
# Stripe Configuration
# STRIPE_PUBLISHABLE_KEY=
# STRIPE_SECRET_KEY=

# PayPal Configuration
# PAYPAL_CLIENT_ID=
# PAYPAL_CLIENT_SECRET=
# PAYPAL_MODE=sandbox  # or 'live' for production

# ============================================================================
# Storage Configuration - Optional
# ============================================================================
# S3 Configuration (for product images, etc.)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=solidus-uploads

# ============================================================================
# Container Names
# ============================================================================
SOLIDUS_WEB_CONTAINER=solidus-web
POSTGRES_CONTAINER_NAME=solidus-postgres
REDIS_CONTAINER_NAME=solidus-redis

# ============================================================================
# Volume Names
# ============================================================================
POSTGRES_DATA_VOLUME=postgres-data
REDIS_DATA_VOLUME=redis-data
SOLIDUS_STORAGE_VOLUME=solidus-storage
SOLIDUS_PUBLIC_VOLUME=solidus-public

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
# 1. Generate SECRET_KEY_BASE:
#    docker run --rm solidusio/solidus:latest bundle exec rails secret
#    Or: ruby -rsecurerandom -e 'puts SecureRandom.hex(64)'
#
# 2. Update POSTGRES_PASSWORD with a strong password
#
# 3. Update HOST with your actual domain
#
# 4. Start services:
#    docker compose up -d
#
# 5. Database will be automatically prepared (db:prepare)
#
# 6. Create admin user:
#    docker compose exec web bundle exec rails runner "
#      Spree::User.create!(
#        email: 'admin@example.com',
#        password: 'test123',
#        password_confirmation: 'test123'
#      ).tap { |u| u.spree_roles << Spree::Role.find_or_create_by(name: 'admin') }
#    "
#
# 7. Load sample data (optional):
#    docker compose exec web bundle exec rails spree_sample:load

# ============================================================================
# SECURITY WARNINGS
# ============================================================================
# ðŸ”’ IMPORTANT: Before deploying to production:
#
# 1. Generate unique SECRET_KEY_BASE (64+ characters)
# 2. Change POSTGRES_PASSWORD to a strong password
# 3. Set RAILS_ENV to production
# 4. Update HOST to your actual domain
# 5. Set up SSL/TLS certificates (HTTPS)
# 6. Configure payment gateway credentials
# 7. Set up SMTP for email notifications
# 8. Configure S3 or other object storage for uploads
# 9. Set up regular database backups
# 10. Review Solidus security best practices
# 11. Enable rate limiting and DDoS protection
# 12. Set up monitoring and logging
# 13. Configure proper backup strategy
#
# Documentation:
# https://guides.solidus.io/
# https://edgeguides.solidus.io/customization
# ============================================================================
