# Forem Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=forem
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# Forem web port
WEB_PORT=3000

# PostgreSQL port (internal)
POSTGRES_PORT=5432

# Redis port (internal)
REDIS_PORT=6379

# Chrome headless browser port
CHROME_PORT=3333

# ====================
# Rails Configuration
# ====================
NODE_ENV=development
RAILS_ENV=development

# Web concurrency (number of workers)
WEB_CONCURRENCY=1

# ====================
# Database Configuration (PostgreSQL)
# ====================
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgres://postgres:postgres@postgres:5432
DATABASE_URL_TEST=postgres://postgres:postgres@postgres:5432

# ====================
# Redis Configuration
# ====================
REDIS_URL=redis://redis:6379/

# ====================
# Chrome Configuration
# ====================
CHROME_URL=http://chrome:3333

# ====================
# Build Configuration
# ====================
# PostgreSQL major version
PG_MAJOR=13

# System configuration
MALLOC_ARENA_MAX=2

# ====================
# Cache Configuration
# ====================
BOOTSNAP_CACHE_DIR=/usr/local/bundle/_bootsnap
XDG_DATA_HOME=/app/tmp/cache
YARN_CACHE_FOLDER=/app/node_modules/.yarn-cache

# ====================
# History Files
# ====================
HISTFILE=/usr/local/hist/.bash_history
PSQL_HISTFILE=/usr/local/hist/.psql_history
IRB_HISTFILE=/usr/local/hist/.irb_history

# ====================
# Local Development
# ====================
# Path to Forem source code
LOCAL_WORKSPACE_FOLDER=./forem-src

# ====================
# Container Names
# ====================
WEB_CONTAINER_NAME=forem-web
POSTGRES_CONTAINER_NAME=forem-postgres
REDIS_CONTAINER_NAME=forem-redis
SIDEKIQ_CONTAINER_NAME=forem-sidekiq

# ====================
# Volume Names
# ====================
BUNDLE_VOLUME=bundle
NODE_MODULES_VOLUME=node_modules
POSTGRES_VOLUME=postgres
REDIS_VOLUME=redis
RAILS_CACHE_VOLUME=rails_cache
ASSETS_VOLUME=assets

# ====================
# Development Note
# ====================
# This is a development environment configuration
# For production deployment, please refer to:
# https://docs.forem.com/installation/
#
# Initial setup:
# 1. Clone Forem source: git clone https://github.com/forem/forem.git forem-src
# 2. Copy this file to .env
# 3. Run: docker compose up -d
# 4. Access: http://localhost:3000

# ====================
# Security Note
# ====================
# ⚠️ IMPORTANT: This is a development configuration!
# For production:
# - Change POSTGRES_PASSWORD to a strong password
# - Set RAILS_ENV=production
# - Configure SECRET_KEY_BASE
# - Enable HTTPS
# - Configure proper authentication
