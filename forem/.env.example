# Forem Environment Variables
# Copy this file to .env and update the values
#
# Forem is the platform that powers DEV Community
# See: https://www.forem.com/

# ============================================================================
# Web Server Settings
# ============================================================================
FOREM_WEB_PORT=3000
# Web application port
# Default: 3000
# Change if port 3000 is already in use

CHROME_PORT=3333
# Browserless Chrome port for testing
# Default: 3333

# ============================================================================
# Rails Configuration
# ============================================================================
RAILS_ENV=development
# Rails environment
# Options: development, production, test

NODE_ENV=development
# Node.js environment
# Options: development, production

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
DATABASE_URL=postgres://postgres:postgres@postgres:5432
# PostgreSQL connection string
# Format: postgres://user:password@host:port/database

DATABASE_URL_TEST=postgres://postgres:postgres@postgres:5432
# Test database connection string

POSTGRES_PASSWORD=postgres
# PostgreSQL password
# WARNING: Change in production!

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://redis:6379/
# Redis connection URL

# ============================================================================
# Performance Tuning
# ============================================================================
WEB_CONCURRENCY=1
# Number of web server workers
# Adjust based on available CPU cores

MALLOC_ARENA_MAX=2
# Maximum number of memory arenas
# Helps reduce memory fragmentation

# ============================================================================
# Local Development
# ============================================================================
LOCAL_WORKSPACE_FOLDER=./forem-src
# Path to Forem source code
# Clone from: https://github.com/forem/forem

# ============================================================================
# Container Names
# ============================================================================
FOREM_WEB_CONTAINER=forem-web
FOREM_SIDEKIQ_CONTAINER=forem-sidekiq
POSTGRES_CONTAINER_NAME=forem-postgres
REDIS_CONTAINER_NAME=forem-redis
CHROME_CONTAINER_NAME=forem-chrome

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
# 1. Clone Forem repository:
#    git clone https://github.com/forem/forem.git forem-src
#    cd forem-src
#
# 2. Start services:
#    docker compose up -d
#
# 3. Setup database:
#    docker compose exec web bin/setup
#
# 4. Access Forem:
#    http://localhost:3000
#
# 5. Create admin user:
#    docker compose exec web bin/rails console
#    > User.create(name: "Admin", username: "admin", email: "admin@forem.local", password: "password", confirmed_at: Time.current)
#
# 6. Run tests:
#    docker compose run rspec_system bundle exec rspec

# ============================================================================
# PRODUCTION NOTES
# ============================================================================
# For production deployment:
# 1. Set RAILS_ENV=production and NODE_ENV=production
# 2. Generate SECRET_KEY_BASE
# 3. Configure proper database with backups
# 4. Set up email delivery (SMTP)
# 5. Configure object storage (S3) for uploads
# 6. Set up CDN for assets
# 7. Use production-grade PostgreSQL and Redis
# 8. Configure monitoring and logging
#
# See: https://docs.forem.com/installation/
# ============================================================================
