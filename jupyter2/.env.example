# Jupyter Lab Multi-Language Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=jupyter2
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# Jupyter Lab web UI port (host:container)
# Note: 8889 used to avoid conflict with jupyter (8888)
JUPYTER_PORT=8889:8888

# ====================
# Jupyter Configuration
# ====================
# Jupyter access token (change for security!)
JUPYTER_TOKEN=change-me-secure-token

# Jupyter password (alternative to token)
# Generate with: python -c "from jupyter_server.auth import passwd; print(passwd('password'))"
# JUPYTER_PASSWORD=

# Jupyter Lab extensions
# JUPYTER_ENABLE_LAB=yes

# ====================
# User Configuration
# ====================
# Jupyter user (default: jovyan)
NB_USER=jovyan

# User ID (match with host user for file permissions)
NB_UID=1000

# Group ID
NB_GID=100

# Grant sudo privileges
GRANT_SUDO=no

# ====================
# Language Kernels
# ====================
# Available kernels:
# - Python 3 (default)
# - Scala 2.11, 2.12, 2.13 (Almond)
# - Ruby 2.6.4 (IRuby)
# - R (IRKernel)
# - JVM languages: Groovy, Kotlin, Clojure (BeakerX)

# ====================
# Python Configuration
# ====================
# Python version
PYTHON_VERSION=3.9

# ====================
# Scala Configuration
# ====================
# Scala versions (2.11, 2.12, 2.13)
SCALA_VERSION=2.13

# ====================
# Ruby Configuration
# ====================
# Ruby version
RUBY_VERSION=2.6.4

# ====================
# Resource Limits (Optional)
# ====================
# Maximum memory allocation
# JUPYTER_MAX_MEM=8g

# CPU cores
# JUPYTER_CPUS=4

# ====================
# Working Directory
# ====================
# Container working directory
WORKDIR=/home/jovyan/work

# ====================
# Container Names
# ====================
JUPYTER_CONTAINER_NAME=jupyter-lab

# ====================
# Volume Names
# ====================
JUPYTER_WORK_VOLUME=jupyter-lab-work
JUPYTER_CONFIG_VOLUME=jupyter-lab-config
JUPYTER_KERNELS_VOLUME=jupyter-lab-kernels

# ====================
# Image Configuration
# ====================
# Image name
JUPYTER_IMAGE_NAME=sb-jupyter

# Image tag
JUPYTER_IMAGE_TAG=latest

# ====================
# Usage Examples
# ====================
# This Jupyter Lab environment supports multiple programming languages
# including Python, Scala, Ruby, R, and JVM languages.
#
# Build image:
# docker build -t sb-jupyter .
#
# Run Jupyter Lab:
# docker run --rm -it -p 8889:8888 sb-jupyter
# # Inside container:
# jupyter lab --ip=0.0.0.0 --port=8888 --allow-root
#
# Run with token:
# docker run --rm -it \
#   -p 8889:8888 \
#   -e JUPYTER_TOKEN=mysecret \
#   sb-jupyter
#
# Mount work directory:
# docker run --rm -it \
#   -p 8889:8888 \
#   -v $(pwd):/home/jovyan/work \
#   sb-jupyter
#
# Run with memory limit:
# docker run --rm -it \
#   -p 8889:8888 \
#   -m 8g \
#   -v $(pwd):/home/jovyan/work \
#   sb-jupyter
#
# Run bash shell (for setup/debugging):
# docker run --rm -it \
#   -p 8889:8888 \
#   -v $(pwd):/home/jovyan/work \
#   sb-jupyter bash
#
# Start Jupyter Lab manually:
# docker run --rm -it -p 8889:8888 sb-jupyter bash
# # Inside container:
# jupyter lab --ip=0.0.0.0 --port=8888 --allow-root --no-browser
#
# Access Jupyter Lab:
# 1. Start container
# 2. Check logs for token
# 3. Open browser: http://localhost:8889
# 4. Enter token
#
# ====================
# Security Note
# ====================
# ⚠️ IMPORTANT: Security recommendations for Jupyter Lab!
# - JUPYTER_TOKEN: Use strong token for authentication
# - Never expose without authentication
# - Use HTTPS with reverse proxy in production
# - Restrict network access
# - Regular security updates
# - Backup notebooks regularly
#
# Generate secure token:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Initial setup:
# 1. Build image: docker build -t sb-jupyter .
# 2. Copy this file to .env
# 3. Set JUPYTER_TOKEN to a secure value
# 4. Run: docker run -it -p 8889:8888 -v $(pwd):/home/jovyan/work sb-jupyter
# 5. Start Jupyter Lab in container: jupyter lab --ip=0.0.0.0 --allow-root
# 6. Access: http://localhost:8889
#
# Using different kernels:
#
# Python 3:
# - Default kernel
# - Click "Python 3" when creating new notebook
#
# Scala:
# - Click "Scala 2.13" (or 2.11, 2.12) when creating new notebook
# - Supported versions: 2.11, 2.12, 2.13
# - Uses Almond kernel
#
# Ruby:
# - Click "Ruby" when creating new notebook
# - Ruby 2.6.4 with IRuby kernel
#
# R:
# - Click "R" when creating new notebook
# - IRKernel with tidyverse, caret, etc.
#
# JVM Languages (BeakerX):
# - Groovy, Kotlin, Clojure
# - Advanced visualization and integration
#
# Package management:
#
# Python packages:
# !pip install package-name
# # or for persistent install (as root):
# docker exec -u root -it jupyter-lab pip install package-name
#
# R packages:
# install.packages("package-name")
#
# Ruby gems:
# !gem install gem-name
#
# Scala/SBT:
# import $ivy.`group:artifact:version`
#
# Jupyter Lab extensions:
# # Install extension (as root):
# docker exec -u root -it jupyter-lab jupyter labextension install extension-name
#
# # List installed extensions:
# jupyter labextension list
#
# Jupyter Lab features:
# - File browser
# - Multiple tabs and panels
# - Drag-and-drop interface
# - Code console
# - Terminal
# - Text editor
# - CSV viewer
# - Markdown preview
# - Extension system
#
# Data science workflow:
# 1. Create new notebook
# 2. Choose kernel (Python, Scala, R, Ruby)
# 3. Import libraries
# 4. Load and analyze data
# 5. Create visualizations
# 6. Export results
#
# Scala data science example:
# import $ivy.`org.plotly-scala::plotly-jupyter-scala:0.8.1`
# import plotly._, plotly.element._, plotly.layout._, plotly.JupyterScala._
# val data = Seq(1, 2, 3, 4, 5)
# Scatter(data).plot()
#
# Performance tips:
# - Allocate sufficient memory (-m flag)
# - Use multiple CPU cores
# - Close unused notebooks and kernels
# - Clear output before saving large notebooks
# - Use kernel restart for clean state
#
# References:
# - Jupyter Lab: https://jupyterlab.readthedocs.io/
# - Almond (Scala): https://almond.sh/
# - IRuby: https://github.com/SciRuby/iruby
# - IRKernel (R): https://irkernel.github.io/
# - BeakerX: http://beakerx.com/
# - Port guide: ../PORT_GUIDE.md
