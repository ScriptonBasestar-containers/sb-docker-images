# Jenkins Standalone Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=jenkins
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# Jenkins web interface port
JENKINS_HTTP_PORT=8080

# Jenkins agent port (for distributed builds)
JENKINS_AGENT_PORT=50000

# ====================
# Jenkins Configuration
# ====================
# Jenkins LTS version with JDK
# Options: lts-jdk21, lts-jdk17, lts-jdk11
JENKINS_TAG=lts-jdk21

# Setup wizard (set to false to skip initial setup)
JENKINS_SETUP_WIZARD=true

# ====================
# JVM Settings
# ====================
# Minimum heap size
JAVA_OPTS_XMS=-Xms512m

# Maximum heap size (adjust based on your system)
JAVA_OPTS_XMX=-Xmx2048m

# ====================
# Container Names
# ====================
JENKINS_CONTAINER_NAME=jenkins
# DOCKER_DIND_CONTAINER_NAME=jenkins-docker

# ====================
# Docker-in-Docker Settings (Optional)
# ====================
# Uncomment to enable Docker builds in Jenkins
# DOCKER_DIND_TAG=27-dind

# ====================
# Network Names
# ====================
JENKINS_NETWORK=jenkins-network

# ====================
# Volume Names
# ====================
JENKINS_HOME_VOLUME=jenkins-home
JENKINS_LOGS_VOLUME=jenkins-logs
# JENKINS_DOCKER_CERTS_VOLUME=jenkins-docker-certs
# JENKINS_DOCKER_DATA_VOLUME=jenkins-docker-data

# ====================
# Security Notes
# ====================
# ⚠️  IMPORTANT Security Recommendations:
#
# 1. Initial Setup:
#    - Get initial admin password: make initial-password
#    - Complete setup wizard at http://localhost:8080
#    - Install recommended plugins
#
# 2. User Management:
#    - Create additional admin users
#    - Enable Matrix-based security
#    - Set up proper user permissions
#
# 3. Plugin Security:
#    - Keep plugins updated
#    - Review plugin permissions
#    - Remove unused plugins
#
# 4. Credentials:
#    - Use Jenkins Credentials plugin for sensitive data
#    - Never store passwords in plain text
#    - Use credential binding in pipelines
#
# 5. Network Security:
#    - Use reverse proxy with HTTPS in production
#    - Restrict access to Jenkins port
#    - Enable CSRF protection
#
# 6. Backups:
#    - Regular backups: make backup
#    - Store backups securely
#    - Test restore procedure: make restore

# ====================
# Usage Examples
# ====================
# Start Jenkins:
#   make up
#
# Get initial password:
#   make initial-password
#
# Access Jenkins:
#   http://localhost:8080
#
# View logs:
#   make logs
#
# Backup Jenkins:
#   make backup
#
# Shell access:
#   make shell

# ====================
# Docker-in-Docker Setup
# ====================
# To enable Docker builds in Jenkins:
#
# 1. Uncomment docker-dind service in compose.yml
# 2. Uncomment related volumes in compose.yml
# 3. Uncomment environment variables above
# 4. Restart: make down && make up
#
# 5. In Jenkins, configure Docker:
#    - Install Docker Pipeline plugin
#    - Add Docker Cloud:
#      Manage Jenkins > Manage Nodes and Clouds > Configure Clouds
#      Docker Host URI: tcp://docker-dind:2376
#      Server credentials: From /certs/client

# ====================
# References
# ====================
# - Jenkins: https://www.jenkins.io/doc/
# - Docker Plugin: https://plugins.jenkins.io/docker-plugin/
# - Pipeline: https://www.jenkins.io/doc/book/pipeline/
# - Port guide: ../../docs/PORT_STATUS.md
