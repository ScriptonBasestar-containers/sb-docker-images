# openNAMU 환경 변수 설정
# 이 파일을 .env로 복사하여 값을 수정하세요

# ====================
# 프로젝트 설정
# ====================
PROJECT_NAME=opennamu
TZ=Asia/Seoul

# ====================
# 포트 설정
# ====================
# openNAMU 웹 포트
OPENNAMU_PORT=8330

# ====================
# 데이터베이스 설정
# ====================
# 데이터베이스 타입 (sqlite 또는 mysql)
DB_TYPE=sqlite

# MariaDB/MySQL 사용 시 설정 (DB_TYPE=mysql)
DB_HOST=mariadb
DB_PORT=3306
DB_NAME=opennamu
DB_USER=opennamu
DB_PASSWORD=change-me-strong-password

# MariaDB 설정 (DB_TYPE=mysql 사용 시)
MYSQL_ROOT_PASSWORD=change-me-root-password
MYSQL_DATABASE=opennamu
MYSQL_USER=opennamu
MYSQL_PASSWORD=change-me-strong-password

# ====================
# openNAMU 설정
# ====================
# 언어 설정
LANGUAGE=ko_KR

# 관리자 초기 비밀번호 (선택사항)
ADMIN_PASSWORD=change-me-admin-password

# 위키 설정 (선택사항 - 웹 UI에서도 설정 가능)
# WIKI_NAME=내 위키
# WIKI_DESCRIPTION=위키에 대한 설명

# 서버 설정
HOST=0.0.0.0
PORT=3000

# 보안 키 (프로덕션에서는 반드시 변경!)
SECRET_KEY=change-me-to-random-string

# ====================
# 업로드 설정
# ====================
# 최대 파일 크기 (바이트 단위, 기본: 10MB)
MAX_FILE_SIZE=10485760

# ====================
# 캐싱 설정 (선택사항)
# ====================
# 캐시 타입 (simple 또는 redis)
CACHE_TYPE=simple

# Redis 사용 시 설정 (CACHE_TYPE=redis)
# REDIS_HOST=redis
# REDIS_PORT=6379

# ====================
# Gunicorn 워커 설정 (선택사항)
# ====================
# 워커 수 (CPU 코어 수의 2-4배 권장)
# WORKERS=4

# 워커당 스레드 수
# THREADS=2

# ====================
# 컨테이너 이름
# ====================
OPENNAMU_CONTAINER_NAME=opennamu
MARIADB_CONTAINER_NAME=opennamu-db
REDIS_CONTAINER_NAME=opennamu-redis

# ====================
# 볼륨 이름
# ====================
OPENNAMU_DATA_VOLUME=opennamu-data
MARIADB_DATA_VOLUME=mariadb-data
REDIS_DATA_VOLUME=redis-data

# ====================
# 네트워크 이름
# ====================
NETWORK_NAME=opennamu-network

# ====================
# 보안 경고
# ====================
# ⚠️ 중요: 프로덕션 사용 전 모든 비밀번호와 시크릿을 변경하세요!
# - ADMIN_PASSWORD: 관리자 초기 비밀번호
# - DB_PASSWORD: 데이터베이스 사용자 비밀번호 (MySQL 사용 시)
# - MYSQL_ROOT_PASSWORD: 데이터베이스 관리자 비밀번호 (MySQL 사용 시)
# - SECRET_KEY: Flask 시크릿 키 (랜덤 문자열로 변경)
#
# 보안 권장사항:
# - 강력한 비밀번호 사용
# - HTTPS 활성화 (리버스 프록시 사용)
# - ACL(접근 제어) 설정
# - 관리 페이지 접근 제한
# - IP 차단 기능 활용
# - 정기적인 보안 업데이트
# - 방화벽 설정
# - 백업 구성
# - 로그 모니터링
#
# SECRET_KEY 생성 방법:
# python -c "import secrets; print(secrets.token_hex(32))"
#
# 데이터베이스 선택 가이드:
# - 개발/테스트: SQLite (DB_TYPE=sqlite, 별도 설정 불필요)
# - 프로덕션/다중 사용자: MariaDB/MySQL (DB_TYPE=mysql, 위 설정 필요)
# - 대용량 위키: MariaDB + Redis 캐싱 권장
#
# 초기 설정:
# 1. 이 파일을 .env로 복사
# 2. DB_TYPE 선택 (sqlite 또는 mysql)
# 3. MySQL 사용 시 비밀번호 및 시크릿 변경
# 4. docker compose up -d 실행
# 5. http://localhost:8330 접속
# 6. 초기 설정 마법사로 위키 구성
#
# Redis 캐싱 활성화 (선택사항):
# 1. CACHE_TYPE=redis 설정
# 2. REDIS_HOST, REDIS_PORT 주석 해제
# 3. docker-compose.yml에 redis 서비스 추가
# 4. 서비스 재시작
#
# 참고 자료:
# - openNAMU 공식 GitHub: https://github.com/openNAMU/openNAMU
# - the seed 문법 가이드: https://namu.wiki/w/the%20seed/문법
# - 포트 가이드: ../docs/PORT_GUIDE.md
