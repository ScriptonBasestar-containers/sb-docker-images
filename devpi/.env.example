# DevPI Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=devpi
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# DevPI server port (π = 3.141...)
DEVPI_PORT=3141

# ====================
# DevPI Server Configuration
# ====================
# Server bind address
DEVPI_HOST=0.0.0.0

# Server port (internal)
DEVPI_SERVER_PORT=3141

# ====================
# Plugin Installation (Build Args)
# ====================
# Install devpi-web (web interface)
INSTALL_WEB=true

# Install devpi-constrained (dependency constraint management)
INSTALL_CONSTRAINED=false

# Install devpi-findlinks (external package link management)
INSTALL_FINDLINKS=false

# Install devpi-jenkins (Jenkins CI/CD integration)
INSTALL_JENKINS=false

# Install devpi-lockdown (security and permission management)
INSTALL_LOCKDOWN=false

# ====================
# Web Interface Configuration
# ====================
# Web UI theme (semantic-ui, bootstrap, etc.)
# DEVPI_WEB_THEME=semantic-ui

# ====================
# Authentication (Optional)
# ====================
# Default root password (set during initialization)
# DEVPI_ROOT_PASSWORD=

# ====================
# PyPI Mirror Configuration (Optional)
# ====================
# External PyPI URL for mirroring
# DEVPI_PYPI_URL=https://pypi.org/simple/

# Mirror cache expiration time (in seconds)
# DEVPI_MIRROR_CACHE_EXPIRY=86400

# ====================
# Container Names
# ====================
DEVPI_CONTAINER_NAME=devpi-server

# ====================
# Volume Names
# ====================
DEVPI_DATA_VOLUME=devpi_data
DEVPI_LOGS_VOLUME=logs

# ====================
# Network Names
# ====================
NETWORK_NAME=devpi-network

# ====================
# Build Configuration
# ====================
# Build from source or PyPI
# BUILD_FROM=source  # or 'pypi'

# Python version
# PYTHON_VERSION=3.12

# ====================
# Security Note
# ====================
# ⚠️ Security recommendations:
# - Change default root password after initialization
# - Enable authentication for package uploads
# - Use HTTPS with reverse proxy for production
# - Configure firewall to restrict access
# - Regular backups of devpi_data volume
# - Enable INSTALL_LOCKDOWN for enhanced security
#
# Initial setup:
# 1. Copy this file to .env and configure plugins
# 2. Build with plugins: docker compose up --build -d
# 3. Access web UI: http://localhost:3141
# 4. Configure root password:
#    docker compose exec devpi devpi use http://localhost:3141
#    docker compose exec devpi devpi login root --password=
#    docker compose exec devpi devpi user -m root password=NEW_PASSWORD
#
# Client setup:
# 1. Install devpi-client:
#    pip install devpi-client
#
# 2. Configure devpi client:
#    devpi use http://localhost:3141
#    devpi login root
#
# 3. Create index:
#    devpi index -c myindex bases=root/pypi
#
# 4. Upload packages:
#    devpi upload
#
# Plugin descriptions:
# - devpi-web: Web interface for browsing packages
# - devpi-constrained: Manage dependency constraints
# - devpi-findlinks: Support for --find-links
# - devpi-jenkins: Jenkins integration for testing
# - devpi-lockdown: Advanced permission management
#
# Data persistence:
# - All data stored in ./devpi_data directory
# - Logs stored in ./logs directory
# - Backup regularly for production use
#
# References:
# - DevPI documentation: https://devpi.net/
# - Port guide: ../docs/PORT_GUIDE.md
