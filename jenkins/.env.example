# Jenkins Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Project Settings
# ====================
PROJECT_NAME=jenkins
TZ=Asia/Seoul

# ====================
# Port Configuration
# ====================
# Jenkins web UI port
JENKINS_HTTP_PORT=8080

# Jenkins agent communication port (JNLP)
JENKINS_AGENT_PORT=50000

# ====================
# Jenkins Configuration
# ====================
# Jenkins home directory (container path)
JENKINS_HOME=/var/jenkins_home

# ====================
# Java/JVM Configuration
# ====================
# JVM memory settings
# Minimum heap size
JAVA_OPTS_XMS=-Xms512m

# Maximum heap size (adjust based on available memory)
JAVA_OPTS_XMX=-Xmx2048m

# Combined JAVA_OPTS
# JAVA_OPTS=-Xms512m -Xmx2048m -Djava.awt.headless=true

# ====================
# Jenkins Options
# ====================
# Jenkins URL prefix (for reverse proxy)
# JENKINS_OPTS=--prefix=/jenkins

# Jenkins arguments
# JENKINS_ARGS=

# ====================
# Plugin Configuration
# ====================
# Skip initial plugin installation wizard
# JENKINS_SKIP_INSTALL_WIZARD=true

# ====================
# Security Configuration
# ====================
# Disable Jenkins setup wizard (use with caution!)
# JAVA_OPTS=-Djenkins.install.runSetupWizard=false

# ====================
# Docker-in-Docker (Optional)
# ====================
# Enable Docker socket mounting for Docker-in-Docker
# Uncomment the volume in docker-compose.yml:
# - /var/run/docker.sock:/var/run/docker.sock

# Docker host
# DOCKER_HOST=unix:///var/run/docker.sock

# ====================
# Container Names
# ====================
JENKINS_CONTAINER_NAME=jenkins

# ====================
# Volume Names
# ====================
JENKINS_HOME_VOLUME=jenkins_home

# ====================
# Network Names
# ====================
# NETWORK_NAME=jenkins-network

# ====================
# User Configuration
# ====================
# Run as root user (required for Docker-in-Docker)
JENKINS_USER=root

# ====================
# Email Configuration (Optional)
# ====================
# SMTP server for email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_USE_TLS=true

# ====================
# GitHub Integration (Optional)
# ====================
# GitHub webhook URL
# GITHUB_WEBHOOK_URL=http://your-jenkins-url/github-webhook/

# GitHub API token
# GITHUB_API_TOKEN=your-github-token

# ====================
# Security Note
# ====================
# ⚠️ Security recommendations:
# - Change admin password after initial setup
# - Enable security realm and authorization
# - Use HTTPS with reverse proxy
# - Restrict agent port access
# - Regular plugin updates
# - Backup jenkins_home regularly
# - Use credentials plugin for secrets
# - Enable CSRF protection
# - Configure proper firewall rules
#
# Initial setup:
# 1. Copy this file to .env and configure values
# 2. Start Jenkins: docker compose up -d
# 3. Get initial admin password:
#    docker compose exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword
# 4. Access web UI: http://localhost:8080
# 5. Complete setup wizard:
#    - Enter initial admin password
#    - Install suggested plugins (or custom selection)
#    - Create admin user
#    - Configure Jenkins URL
# 6. Configure system settings in Manage Jenkins
#
# Memory recommendations:
# - Development: 512MB - 1GB (JAVA_OPTS=-Xmx1024m)
# - Small team: 2GB - 4GB (JAVA_OPTS=-Xmx2048m)
# - Large team: 4GB - 8GB (JAVA_OPTS=-Xmx4096m)
#
# Plugin management:
# - Pre-installed plugins: 88 essential plugins
# - Additional plugins via Web UI: Manage Jenkins > Manage Plugins
# - Plugin list: conf/plugins.txt
#
# Backup Jenkins:
# 1. Stop Jenkins: docker compose stop
# 2. Backup volume: docker run --rm -v jenkins_jenkins_home:/data -v $(pwd):/backup alpine tar czf /backup/jenkins-backup.tar.gz /data
# 3. Start Jenkins: docker compose start
#
# Restore Jenkins:
# 1. Stop Jenkins: docker compose stop
# 2. Restore volume: docker run --rm -v jenkins_jenkins_home:/data -v $(pwd):/backup alpine tar xzf /backup/jenkins-backup.tar.gz -C /
# 3. Start Jenkins: docker compose start
#
# Docker-in-Docker setup:
# 1. Uncomment Docker socket volume in compose.yml
# 2. Install Docker inside container or use Docker CLI
# 3. Configure Docker plugin in Jenkins
#
# References:
# - Jenkins documentation: https://www.jenkins.io/doc/
# - Plugin documentation: https://plugins.jenkins.io/
# - Port guide: ../docs/PORT_GUIDE.md
